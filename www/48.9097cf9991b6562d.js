"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[48],{48:(Y,u,a)=>{a.r(u),a.d(u,{ProfilePageModule:()=>b});var d=a(1368),p=a(4716),i=a(2112),l=a(2508),m=a(1528),e=a(4496),g=a(2948),P=a(4256),f=a(6032),h=a(7700),v=a(3008);function y(o,s){1&o&&(e.I0R(0,"div",3),e.wR5(1,"ion-spinner",4),e.C$Y())}function C(o,s){if(1&o){const n=e.KQA();e.I0R(0,"div")(1,"ion-card")(2,"ion-card-header")(3,"ion-card-title"),e.wR5(4,"ion-input",5),e.C$Y(),e.I0R(5,"ion-card-subtitle"),e.wR5(6,"ion-input",6),e.C$Y()(),e.I0R(7,"div",7),e.wR5(8,"img",8),e.C$Y(),e.I0R(9,"ion-card-content"),e.wR5(10,"ion-textarea",9),e.C$Y(),e.I0R(11,"ion-card-content"),e.wR5(12,"ion-textarea",10),e.C$Y()(),e.wR5(13,"app-products",11),e.I0R(14,"ion-button",12),e.qCj("click",function(){e.usT(n);const r=e.GaO();return e.CGJ(r.presentAlert())}),e.OEk(15,"Add Product"),e.C$Y(),e.I0R(16,"ion-button",13),e.OEk(17,"Publish"),e.C$Y(),e.I0R(18,"ion-button",14),e.qCj("click",function(){e.usT(n);const r=e.GaO();return e.CGJ(r.logout())}),e.OEk(19,"Logout"),e.C$Y()()}if(2&o){const n=e.GaO();e.yG2(4),e._6D("value",n.business.companyName),e.yG2(2),e.CI5("value","$",n.business.price,""),e.yG2(2),e._6D("alt",n.business.companyName),e.E7m("src",n.business.image,e.K6U),e.yG2(2),e._6D("value",n.business.description),e.yG2(2),e._6D("value",n.business.contact),e.yG2(),e.E7m("products",n.products)}}const I=[{path:"",component:(()=>{var o;class s{constructor(t,r,c,M){this.alertController=t,this.postsService=r,this.userService=c,this.router=M,this.products=[],this.business={companyName:"",price:0,description:"",image:"https://ionicframework.com/docs/img/demos/card-media.png",contact:0},this.nameParam="",this.isLoadingBusiness=!0,this.isLoadingProducts=!0,this.alertInputs=[{name:"productName",type:"text",placeholder:"Product Name",attributes:{maxlength:10}},{name:"productImage",type:"url",placeholder:"Product Image"},{name:"price",type:"number",placeholder:"Price"}]}ngOnInit(){var t=this;return(0,m.c)(function*(){var r;t.nameParam=(null===(r=t.userService.getCurrentUser())||void 0===r?void 0:r.companyName)||"",console.log(t.nameParam),t.postsService.getPostByCompanyName(t.nameParam).then(c=>{t.business=c,console.log(t.business),t.isLoadingBusiness=!1}),t.postsService.getProductByName(t.nameParam).then(c=>{t.products=c,console.log("Products:",t.products),t.isLoadingProducts=!1})})()}presentAlert(){var t=this;return(0,m.c)(function*(){yield(yield t.alertController.create({header:"Create a new product",inputs:t.alertInputs,buttons:[{text:"Cancel",role:"cancel",handler:()=>{console.log("Cancel clicked")}},{text:"Save",handler:c=>{console.log("Save clicked",c)}}]})).present()})()}logout(){this.userService.clearCurrentUser(),this.nameParam="",this.router.navigateByUrl("/profile",{skipLocationChange:!0}).then(()=>{this.router.navigate(["/login"])})}}return(o=s).\u0275fac=function(t){return new(t||o)(e.GI1(i.iW),e.GI1(g.c),e.GI1(P.u),e.GI1(l.E5))},o.\u0275cmp=e.In1({type:o,selectors:[["app-profile"]],decls:5,vars:3,consts:[[3,"fullscreen"],["class","flex justify-center items-center p-5",4,"ngIf"],[4,"ngIf"],[1,"flex","justify-center","items-center","p-5"],["name","lines"],["placeholder","Name of The Company ",3,"value"],["placeholder","Price of the service",3,"value"],[1,"min-w-56"],[1,"min-w-56",3,"src","alt"],["auto-grow","true","placeholder","Add a description here",3,"value"],["placeholder","Add a contact number here",3,"value"],[3,"products"],["color","primary","expand","block",1,"ion-margin",3,"click"],["color","orange","expand","block",1,"ion-margin"],["expand","block","color","danger",1,"ion-margin",3,"click"]],template:function(t,r){1&t&&(e.wR5(0,"app-header"),e.I0R(1,"ion-content",0),e.yuY(2,y,2,0,"div",1)(3,C,20,7,"div",2),e.C$Y(),e.wR5(4,"app-barfooter")),2&t&&(e.yG2(),e.E7m("fullscreen",!0),e.yG2(),e.E7m("ngIf",r.isLoadingBusiness||r.isLoadingProducts),e.yG2(),e.E7m("ngIf",!r.isLoadingBusiness&&!r.isLoadingProducts))},dependencies:[d.u_,i.sn,i.KC,i.Gg,i.YY,i.MN,i.I7,i._i,i.A5,i.YA,i.gP,i.qG,f.k,h.s,v.G],styles:["ion-label[_ngcontent-%COMP%]{white-space:normal!important}img[_ngcontent-%COMP%]{width:100%;height:auto}ion-card-title[_ngcontent-%COMP%]{--color: white}ion-card-subtitle[_ngcontent-%COMP%]{--color: orange}"]}),s})()}];let G=(()=>{var o;class s{}return(o=s).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.a4G({type:o}),o.\u0275inj=e.s3X({imports:[l.qQ.forChild(I),l.qQ]}),s})();var R=a(28);let b=(()=>{var o;class s{}return(o=s).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.a4G({type:o}),o.\u0275inj=e.s3X({imports:[d.MD,p.y,i.wZ,G,R.A]}),s})()}}]);