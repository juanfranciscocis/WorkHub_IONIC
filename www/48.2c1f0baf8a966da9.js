"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[48],{48:(M,u,i)=>{i.r(u),i.d(u,{ProfilePageModule:()=>b});var d=i(1368),p=i(4716),a=i(2112),l=i(2508),m=i(1528),e=i(4496),g=i(2948),P=i(4256),f=i(6032),v=i(7700),h=i(3008);function y(t,s){1&t&&(e.I0R(0,"div",3),e.wR5(1,"ion-spinner",4),e.C$Y())}function C(t,s){if(1&t){const n=e.KQA();e.I0R(0,"div")(1,"ion-card",5)(2,"ion-card-header")(3,"ion-card-title"),e.wR5(4,"ion-input",6),e.C$Y(),e.I0R(5,"ion-card-subtitle"),e.wR5(6,"ion-input",7),e.C$Y()(),e.wR5(7,"img",8),e.I0R(8,"ion-card-content"),e.wR5(9,"ion-textarea",9),e.C$Y(),e.I0R(10,"ion-card-content"),e.wR5(11,"ion-textarea",10),e.C$Y()(),e.wR5(12,"app-products",11),e.I0R(13,"ion-button",12),e.qCj("click",function(){e.usT(n);const r=e.GaO();return e.CGJ(r.presentAlert())}),e.OEk(14,"Add Product"),e.C$Y(),e.I0R(15,"ion-button",13),e.OEk(16,"Publish"),e.C$Y(),e.I0R(17,"ion-button",14),e.qCj("click",function(){e.usT(n);const r=e.GaO();return e.CGJ(r.logout())}),e.OEk(18,"Logout"),e.C$Y()()}if(2&t){const n=e.GaO();e.yG2(4),e._6D("value",n.business.companyName),e.yG2(2),e.CI5("value","$",n.business.price,""),e.yG2(),e._6D("alt",n.business.companyName),e.E7m("src",n.business.image,e.K6U),e.yG2(2),e._6D("value",n.business.description),e.yG2(2),e._6D("value",n.business.contact),e.yG2(),e.E7m("products",n.products)}}const I=[{path:"",component:(()=>{var t;class s{constructor(o,r,c,Y,x){this.alertController=o,this.postsService=r,this.userService=c,this.router=Y,this.loadingController=x,this.products=[],this.business={companyName:"",price:0,description:"",image:"https://ionicframework.com/docs/img/demos/card-media.png",contact:0},this.nameParam="",this.isLoadingBusiness=!0,this.isLoadingProducts=!0,this.alertInputs=[{name:"productName",type:"text",placeholder:"Product Name",attributes:{maxlength:10}},{name:"productImage",type:"url",placeholder:"Product Image"},{name:"price",type:"number",placeholder:"Price"}]}ngOnInit(){var o=this;return(0,m.c)(function*(){var r;o.nameParam=(null===(r=o.userService.getCurrentUser())||void 0===r?void 0:r.companyName)||"",console.log(o.nameParam),o.postsService.getPostByCompanyName(o.nameParam).then(c=>{o.business=c,console.log(o.business),o.isLoadingBusiness=!1}),o.postsService.getProductByName(o.nameParam).then(c=>{o.products=c,console.log("Products:",o.products),o.isLoadingProducts=!1})})()}presentAlert(){var o=this;return(0,m.c)(function*(){yield(yield o.alertController.create({header:"Create a new product",inputs:o.alertInputs,buttons:[{text:"Cancel",role:"cancel",handler:()=>{console.log("Cancel clicked")}},{text:"Save",handler:c=>{console.log("Save clicked",c)}}]})).present()})()}logout(){this.userService.clearCurrentUser(),this.nameParam="",this.router.navigateByUrl("/profile",{skipLocationChange:!0}).then(()=>{this.router.navigate(["/login"])})}}return(t=s).\u0275fac=function(o){return new(o||t)(e.GI1(a.iW),e.GI1(g.c),e.GI1(P.u),e.GI1(l.E5),e.GI1(a.Kg))},t.\u0275cmp=e.In1({type:t,selectors:[["app-profile"]],decls:5,vars:3,consts:[[3,"fullscreen"],["class","ion-align-items-center ion-text-center ion-justify-content-center ion-padding",4,"ngIf"],[4,"ngIf"],[1,"ion-align-items-center","ion-text-center","ion-justify-content-center","ion-padding"],["name","lines"],["color","yellow"],["placeholder","Name of The Company ",3,"value"],["placeholder","Price of the service",3,"value"],[3,"src","alt"],["placeholder","Add a description here",3,"value"],["placeholder","Add a contact number here",3,"value"],[3,"products"],["color","primary","expand","block",1,"ion-margin",3,"click"],["color","orange","expand","block",1,"ion-margin"],["expand","block","color","danger",1,"ion-margin",3,"click"]],template:function(o,r){1&o&&(e.wR5(0,"app-header"),e.I0R(1,"ion-content",0),e.yuY(2,y,2,0,"div",1)(3,C,19,7,"div",2),e.C$Y(),e.wR5(4,"app-barfooter")),2&o&&(e.yG2(),e.E7m("fullscreen",!0),e.yG2(),e.E7m("ngIf",r.isLoadingBusiness||r.isLoadingProducts),e.yG2(),e.E7m("ngIf",!r.isLoadingBusiness&&!r.isLoadingProducts))},dependencies:[d.u_,a.sn,a.KC,a.Gg,a.YY,a.MN,a.I7,a._i,a.A5,a.YA,a.gP,a.qG,f.k,v.s,h.G],styles:["ion-label[_ngcontent-%COMP%]{white-space:normal!important}"]}),s})()}];let G=(()=>{var t;class s{}return(t=s).\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.a4G({type:t}),t.\u0275inj=e.s3X({imports:[l.qQ.forChild(I),l.qQ]}),s})();var R=i(28);let b=(()=>{var t;class s{}return(t=s).\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.a4G({type:t}),t.\u0275inj=e.s3X({imports:[d.MD,p.y,a.wZ,G,R.A]}),s})()}}]);