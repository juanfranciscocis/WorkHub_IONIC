"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8600],{8600:(O,P,r)=>{r.r(P),r.d(P,{ProfilePersonalPageModule:()=>E});var h=r(1368),f=r(4716),i=r(2112),d=r(2508),m=r(1528),e=r(4496),g=r(7808),y=r(4256),C=r(6032),I=r(7700);function G(o,t){1&o&&(e.I0R(0,"ion-avatar"),e.wR5(1,"img",13),e.C$Y())}function R(o,t){if(1&o&&(e.I0R(0,"ion-avatar"),e.wR5(1,"img",14),e.C$Y()),2&o){const l=e.GaO();e.yG2(),e._6D("src",l.user.image,e.K6U)}}function k(o,t){if(1&o){const l=e.KQA();e.I0R(0,"ion-button",15),e.qCj("click",function(){e.usT(l);const n=e.GaO(),c=e.Gew(13);return e.CGJ(n.uploadFile(c))}),e.OEk(1,"Save Image"),e.C$Y()}}const M=()=>["/login"],Y=[{path:"",component:(()=>{var o;class t{constructor(a){this.usersService=a,this.storage=(0,e.uUt)(g.u_),this.user={companyName:"",email:"",password:"",isCompany:!1,image:""},this.isImageLoaded=!1,this.user=this.usersService.getCurrentUser()}ngOnInit(){}saveChanges(){console.log(this.user),this.usersService.updateUser(this.user).then(a=>{location.reload()})}onImageLoad(){this.isImageLoaded=!0}uploadFile(a){var n=this;return(0,m.c)(function*(){if(!a.files)return;const c=a.files;for(let s=0;s<c.length;s++){const u=c.item(s);if(u){const T=(0,g.IL)(n.storage,u.name);yield(0,g.GY)(T,u).then(p=>{console.log("Uploaded a blob or file!",p.ref.fullPath),n.downloadFile(p.ref.fullPath).then(function(){var L=(0,m.c)(function*(v){n.user.image=v,console.log(n.user.image),yield n.publish()});return function(v){return L.apply(this,arguments)}}())})}}})()}publish(){this.usersService.updateUser(this.user).then(a=>{location.reload()})}downloadFile(a){var n=this;return(0,m.c)(function*(){let c="";return yield(0,g.Kq)((0,g.IL)(n.storage,a)).then(s=>{console.log("File available at",s),c=s}),c})()}}return(o=t).\u0275fac=function(a){return new(a||o)(e.GI1(y.u))},o.\u0275cmp=e.In1({type:o,selectors:[["app-profile-personal"]],decls:30,vars:10,consts:[[3,"fullscreen"],[1,"ion-justify-content-center","ion-text-center"],["size","12"],[1,"ion-text-center","ion-justify-content-center","ion-align-items-center"],[4,"ngIf"],[1,"flex","justify-center","items-center"],[3,"disabled","click"],["type","file",2,"display","none",3,"change"],["upload",""],["class","ion-margin","color","success","expand","block",3,"click",4,"ngIf"],["placeholder","Email",3,"ngModel","value","ngModelChange"],["expand","block","color","orange",1,"ion-margin",3,"click"],["expand","block","color","danger",1,"ion-margin",3,"routerLink"],["alt","Silhouette of a person's head","src","https://ionicframework.com/docs/img/demos/avatar.svg"],["alt","Silhouette of a person's head",3,"src"],["color","success","expand","block",1,"ion-margin",3,"click"]],template:function(a,n){if(1&a){const c=e.KQA();e.wR5(0,"app-header"),e.I0R(1,"ion-content",0)(2,"ion-grid")(3,"ion-row",1)(4,"ion-col",2)(5,"ion-card")(6,"ion-card-header",3),e.yuY(7,G,2,0,"ion-avatar",4)(8,R,2,1,"ion-avatar",4),e.I0R(9,"ion-card-content",5)(10,"ion-button",6),e.qCj("click",function(){e.usT(c);const u=e.Gew(13);return e.CGJ(u.click())}),e.OEk(11," Change Image "),e.I0R(12,"input",7,8),e.qCj("change",function(){return n.onImageLoad()}),e.C$Y()(),e.yuY(14,k,2,0,"ion-button",9),e.C$Y(),e.I0R(15,"ion-card-title"),e.OEk(16),e.C$Y()(),e.I0R(17,"ion-card-content")(18,"ion-input",10),e.iHE("ngModelChange",function(u){return e.kNx(n.user.email,u)||(n.user.email=u),u}),e.C$Y()()()()()(),e.I0R(19,"ion-grid")(20,"ion-row",1)(21,"ion-col",2)(22,"ion-button",11),e.qCj("click",function(){return n.saveChanges()}),e.OEk(23,"Save Changes"),e.C$Y()()()(),e.I0R(24,"ion-grid")(25,"ion-row",1)(26,"ion-col",2)(27,"ion-button",12),e.OEk(28,"Logout"),e.C$Y()()()()(),e.wR5(29,"app-barfooter")}2&a&&(e.yG2(),e.E7m("fullscreen",!0),e.yG2(6),e.E7m("ngIf",""===n.user.image),e.yG2(),e.E7m("ngIf",""!==n.user.image),e.yG2(2),e.E7m("disabled",n.isImageLoaded),e.yG2(4),e.E7m("ngIf",n.isImageLoaded),e.yG2(2),e.cNF(n.user.companyName),e.yG2(2),e._6D("value",n.user.email),e.OKB("ngModel",n.user.email),e.yG2(9),e.E7m("routerLink",e.q4q(9,M)))},dependencies:[h.u_,f.ue,f._G,i.O7,i.sn,i.KC,i.Gg,i.YY,i.I7,i.Kk,i._i,i.YP,i.A5,i.qo,i.qG,i.mY,d.ER,C.k,I.s],styles:["img[_ngcontent-%COMP%]{min-width:5em;min-height:5em;max-width:5em;max-height:5em;border-radius:50%;margin:0 auto;display:block}"]}),t})()}];let _=(()=>{var o;class t{}return(o=t).\u0275fac=function(a){return new(a||o)},o.\u0275mod=e.a4G({type:o}),o.\u0275inj=e.s3X({imports:[d.qQ.forChild(Y),d.qQ]}),t})();var b=r(28);let E=(()=>{var o;class t{}return(o=t).\u0275fac=function(a){return new(a||o)},o.\u0275mod=e.a4G({type:o}),o.\u0275inj=e.s3X({imports:[h.MD,f.y,i.wZ,_,b.A]}),t})()}}]);