"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9664],{7700:(k,m,a)=>{a.d(m,{s:()=>f});var t=a(740),o=a(4496),w=a(4256),p=a(2508),c=a(1368),n=a(2112);const h=()=>["/home"];function s(i,x){1&i&&(o.I0R(0,"ion-col",3),o.wR5(1,"ion-icon",4),o.C$Y()),2&i&&(o.yG2(),o.E7m("routerLink",o.q4q(1,h)))}function l(i,x){1&i&&(o.I0R(0,"ion-col",3),o.wR5(1,"ion-icon",5),o.C$Y()),2&i&&(o.yG2(),o.E7m("routerLink",o.q4q(1,h)))}const e=()=>["/search"];function r(i,x){1&i&&(o.I0R(0,"ion-col",3),o.wR5(1,"ion-icon",6),o.C$Y()),2&i&&(o.yG2(),o.E7m("routerLink",o.q4q(1,e)))}function u(i,x){1&i&&(o.I0R(0,"ion-col",3),o.wR5(1,"ion-icon",7),o.C$Y()),2&i&&(o.yG2(),o.E7m("routerLink",o.q4q(1,e)))}function d(i,x){if(1&i){const M=o.KQA();o.I0R(0,"ion-col",3)(1,"ion-icon",8),o.qCj("click",function(){o.usT(M);const g=o.GaO();return o.CGJ(g.companyOrPerson())}),o.C$Y()()}}function z(i,x){if(1&i){const M=o.KQA();o.I0R(0,"ion-col",3)(1,"ion-icon",9),o.qCj("click",function(){o.usT(M);const g=o.GaO();return o.CGJ(g.companyOrPerson())}),o.C$Y()()}}let f=(()=>{var i;class x{constructor(v,g){this.usersService=v,this.router=g,this.isCompany=!1,this.inHome=!1,this.inSearch=!1,this.inProfile=!1,this.search=t.kvD,"/home"===window.location.pathname&&(this.inHome=!0),"/search"===window.location.pathname&&(this.inSearch=!0),("/profile"===window.location.pathname||"/profile-personal"===window.location.pathname)&&(this.inProfile=!0)}ngOnInit(){var v;this.isCompany=(null===(v=this.usersService.getCurrentUser())||void 0===v?void 0:v.isCompany)||!1}companyOrPerson(){this.router.navigate(this.isCompany?["/profile"]:["/profile-personal"])}}return(i=x).\u0275fac=function(v){return new(v||i)(o.GI1(w.u),o.GI1(p.E5))},i.\u0275cmp=o.In1({type:i,selectors:[["app-barfooter"]],decls:10,vars:6,consts:[["translucent","true"],["col",""],["size","4",4,"ngIf"],["size","4"],["color","yellow","name","home",1,"big-icon",3,"routerLink"],["color","yellow","name","home-outline",1,"big-icon",3,"routerLink"],["color","yellow","name","search",1,"big-icon",3,"routerLink"],["color","yellow","name","search-outline",1,"big-icon",3,"routerLink"],["color","yellow","name","person",1,"big-icon",3,"click"],["color","yellow","name","person-outline",1,"big-icon",3,"click"]],template:function(v,g){1&v&&(o.I0R(0,"ion-footer",0)(1,"ion-toolbar",1)(2,"ion-grid")(3,"ion-row"),o.yuY(4,s,2,2,"ion-col",2)(5,l,2,2,"ion-col",2)(6,r,2,2,"ion-col",2)(7,u,2,2,"ion-col",2)(8,d,2,0,"ion-col",2)(9,z,2,0,"ion-col",2),o.C$Y()()()()),2&v&&(o.yG2(4),o.E7m("ngIf",g.inHome),o.yG2(),o.E7m("ngIf",!g.inHome),o.yG2(),o.E7m("ngIf",g.inSearch),o.yG2(),o.E7m("ngIf",!g.inSearch),o.yG2(),o.E7m("ngIf",g.inProfile),o.yG2(),o.E7m("ngIf",!g.inProfile))},dependencies:[c.u_,n.Kk,n.eV,n.YP,n.Ko,n.qo,n.Md,n.mY,p.ER],styles:["ion-col[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:1em}.big-icon[_ngcontent-%COMP%]{font-size:2em}"]}),x})()},28:(k,m,a)=>{a.d(m,{A:()=>p});var t=a(1368),o=a(2112),w=a(4496);let p=(()=>{var c;class n{}return(c=n).\u0275fac=function(s){return new(s||c)},c.\u0275mod=w.a4G({type:c}),c.\u0275inj=w.s3X({imports:[t.MD,o.wZ]}),n})()},6032:(k,m,a)=>{a.d(m,{k:()=>c});var t=a(4496),o=a(2112),w=a(2508);const p=()=>["/home"];let c=(()=>{var n;class h{constructor(){}ngOnInit(){}}return(n=h).\u0275fac=function(l){return new(l||n)},n.\u0275cmp=t.In1({type:n,selectors:[["app-header"]],decls:3,vars:3,consts:[[3,"translucent"],[3,"routerLink"],["src","/assets/global/BizSwapLogo.png",1,"logo","ion-padding"]],template:function(l,e){1&l&&(t.I0R(0,"ion-header",0)(1,"ion-toolbar",1),t.wR5(2,"ion-img",2),t.C$Y()()),2&l&&(t.E7m("translucent",!0),t.yG2(),t.E7m("routerLink",t.q4q(2,p)))},dependencies:[o.wB,o.Eh,o.Md,o.mY,w.ER],styles:[".logo[_ngcontent-%COMP%]{width:15em}"]}),h})()},4256:(k,m,a)=>{a.d(m,{u:()=>p});var t=a(1528),o=a(8754),w=a(4496);let p=(()=>{var c;class n{constructor(s){this.firestore=s}createUser(s){var l=this;return(0,t.c)(function*(){return l.verifyIfUserExists(s).then(function(){var e=(0,t.c)(function*(r){if(r)return Promise.resolve(!1);let z="users/"+s.companyName;try{return yield(0,o.Sm)((0,o.UN)(l.firestore,z),s),localStorage.setItem("currentUser",JSON.stringify(s)),s.isCompany&&(yield(0,o.Sm)((0,o.UN)(l.firestore,"posts",s.companyName),{companyName:s.companyName,description:"",contact:"",image:"",price:0})),Promise.resolve(!0)}catch{return Promise.resolve(!1)}});return function(r){return e.apply(this,arguments)}}())})()}verifyIfUserExists(s){var l=this;return(0,t.c)(function*(){try{const e=(0,o.kt)((0,o.oV)(l.firestore,"users"),(0,o.A9)("companyName","==",s.companyName)),r=yield(0,o.uY)(e);return Promise.resolve(!r.empty)}catch{return Promise.resolve(!1)}})()}loginUser(s){var l=this;return(0,t.c)(function*(){try{const e=(0,o.kt)((0,o.oV)(l.firestore,"users"),(0,o.A9)("companyName","==",s.companyName),(0,o.A9)("password","==",s.password));if((yield(0,o.uY)(e)).empty)return Promise.resolve(!1);{let z="users/"+s.companyName;return s=(yield(0,o.i4)((0,o.UN)(l.firestore,z))).data(),localStorage.setItem("currentUser",JSON.stringify(s)),console.log("User logged in",l.getCurrentUser()),Promise.resolve(!0)}}catch{return Promise.resolve(!1)}})()}getCurrentUser(){const s=localStorage.getItem("currentUser");return s?JSON.parse(s):null}clearCurrentUser(){localStorage.removeItem("currentUser")}updateUser(s){var l=this;return(0,t.c)(function*(){const r=s.companyName;try{const d=(0,o.UN)(l.firestore,"users",r);return yield(0,o.gD)(d,{companyName:s.companyName,email:s.email,password:s.password,isCompany:s.isCompany}),console.log("User updated successfully:",s),!0}catch(d){return console.error("Error updating user:",d),!1}})()}}return(c=n).\u0275fac=function(s){return new(s||c)(w.CoB(o.OI))},c.\u0275prov=w.wxM({token:c,factory:c.\u0275fac,providedIn:"root"}),n})()},740:(k,m,a)=>{a.d(m,{Bhx:()=>B,kvD:()=>L});const B="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M432 176H320V64a48 48 0 00-48-48H80a48 48 0 00-48 48v416a16 16 0 0016 16h104a8 8 0 008-8v-71.55c0-8.61 6.62-16 15.23-16.43A16 16 0 01192 416v72a8 8 0 008 8h264a16 16 0 0016-16V224a48 48 0 00-48-48zM98.08 431.87a16 16 0 1113.79-13.79 16 16 0 01-13.79 13.79zm0-80a16 16 0 1113.79-13.79 16 16 0 01-13.79 13.79zm0-80a16 16 0 1113.79-13.79 16 16 0 01-13.79 13.79zm0-80a16 16 0 1113.79-13.79 16 16 0 01-13.79 13.79zm0-80a16 16 0 1113.79-13.79 16 16 0 01-13.79 13.79zm80 240a16 16 0 1113.79-13.79 16 16 0 01-13.79 13.79zm0-80a16 16 0 1113.79-13.79 16 16 0 01-13.79 13.79zm0-80a16 16 0 1113.79-13.79 16 16 0 01-13.79 13.79zm0-80a16 16 0 1113.79-13.79 16 16 0 01-13.79 13.79zm80 320a16 16 0 1113.79-13.79 16 16 0 01-13.79 13.79zm0-80a16 16 0 1113.79-13.79 16 16 0 01-13.79 13.79zm0-80a16 16 0 1113.79-13.79 16 16 0 01-13.79 13.79zm0-80a16 16 0 1113.79-13.79 16 16 0 01-13.79 13.79zm0-80a16 16 0 1113.79-13.79 16 16 0 01-13.79 13.79zM444 464H320V208h112a16 16 0 0116 16v236a4 4 0 01-4 4z'/><path d='M400 400a16 16 0 1016 16 16 16 0 00-16-16zM400 320a16 16 0 1016 16 16 16 0 00-16-16zM400 240a16 16 0 1016 16 16 16 0 00-16-16zM336 400a16 16 0 1016 16 16 16 0 00-16-16zM336 320a16 16 0 1016 16 16 16 0 00-16-16zM336 240a16 16 0 1016 16 16 16 0 00-16-16z'/></svg>",L="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M456.69 421.39L362.6 327.3a173.81 173.81 0 0034.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 00327.3 362.6l94.09 94.09a25 25 0 0035.3-35.3zM97.92 222.72a124.8 124.8 0 11124.8 124.8 124.95 124.95 0 01-124.8-124.8z'/></svg>"}}]);