"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6404],{7700:(f,m,i)=>{i.d(m,{s:()=>H});var h=i(740),o=i(4496),d=i(4256),p=i(2508),n=i(1368),l=i(2112);const x=()=>["/home"];function s(a,w){1&a&&(o.I0R(0,"ion-col",3),o.wR5(1,"ion-icon",4),o.C$Y()),2&a&&(o.yG2(),o.E7m("routerLink",o.q4q(1,x)))}function c(a,w){1&a&&(o.I0R(0,"ion-col",3),o.wR5(1,"ion-icon",5),o.C$Y()),2&a&&(o.yG2(),o.E7m("routerLink",o.q4q(1,x)))}const e=()=>["/search"];function g(a,w){1&a&&(o.I0R(0,"ion-col",3),o.wR5(1,"ion-icon",6),o.C$Y()),2&a&&(o.yG2(),o.E7m("routerLink",o.q4q(1,e)))}function u(a,w){1&a&&(o.I0R(0,"ion-col",3),o.wR5(1,"ion-icon",7),o.C$Y()),2&a&&(o.yG2(),o.E7m("routerLink",o.q4q(1,e)))}const r=()=>["/favorites"];function z(a,w){1&a&&(o.I0R(0,"ion-col",3),o.wR5(1,"ion-icon",8),o.C$Y()),2&a&&(o.yG2(),o.E7m("routerLink",o.q4q(1,r)))}function k(a,w){1&a&&(o.I0R(0,"ion-col",3),o.wR5(1,"ion-icon",9),o.C$Y()),2&a&&(o.yG2(),o.E7m("routerLink",o.q4q(1,r)))}function B(a,w){if(1&a){const M=o.KQA();o.I0R(0,"ion-col",3)(1,"ion-icon",10),o.qCj("click",function(){o.usT(M);const t=o.GaO();return o.CGJ(t.companyOrPerson())}),o.C$Y()()}}function L(a,w){if(1&a){const M=o.KQA();o.I0R(0,"ion-col",3)(1,"ion-icon",11),o.qCj("click",function(){o.usT(M);const t=o.GaO();return o.CGJ(t.companyOrPerson())}),o.C$Y()()}}let H=(()=>{var a;class w{constructor(v,t){this.usersService=v,this.router=t,this.isCompany=!1,this.inHome=!1,this.inSearch=!1,this.inProfile=!1,this.inFavorites=!1,this.search=h.kvD,"/home"===window.location.pathname&&(this.inHome=!0),"/search"===window.location.pathname&&(this.inSearch=!0),("/profile"===window.location.pathname||"/profile-personal"===window.location.pathname)&&(this.inProfile=!0),"/favorites"===window.location.pathname&&(this.inFavorites=!0)}ngOnInit(){var v;this.isCompany=(null===(v=this.usersService.getCurrentUser())||void 0===v?void 0:v.isCompany)||!1}companyOrPerson(){this.router.navigate(this.isCompany?["/profile"]:["/profile-personal"])}}return(a=w).\u0275fac=function(v){return new(v||a)(o.GI1(d.u),o.GI1(p.E5))},a.\u0275cmp=o.In1({type:a,selectors:[["app-barfooter"]],decls:12,vars:8,consts:[["translucent","true"],["col",""],["size","3",4,"ngIf"],["size","3"],["color","yellow","name","home",1,"big-icon",3,"routerLink"],["color","yellow","name","home-outline",1,"big-icon",3,"routerLink"],["color","yellow","name","search",1,"big-icon",3,"routerLink"],["color","yellow","name","search-outline",1,"big-icon",3,"routerLink"],["color","yellow","name","star",1,"big-icon",3,"routerLink"],["color","yellow","name","star-outline",1,"big-icon",3,"routerLink"],["color","yellow","name","person",1,"big-icon",3,"click"],["color","yellow","name","person-outline",1,"big-icon",3,"click"]],template:function(v,t){1&v&&(o.I0R(0,"ion-footer",0)(1,"ion-toolbar",1)(2,"ion-grid")(3,"ion-row"),o.yuY(4,s,2,2,"ion-col",2)(5,c,2,2,"ion-col",2)(6,g,2,2,"ion-col",2)(7,u,2,2,"ion-col",2)(8,z,2,2,"ion-col",2)(9,k,2,2,"ion-col",2)(10,B,2,0,"ion-col",2)(11,L,2,0,"ion-col",2),o.C$Y()()()()),2&v&&(o.yG2(4),o.E7m("ngIf",t.inHome),o.yG2(),o.E7m("ngIf",!t.inHome),o.yG2(),o.E7m("ngIf",t.inSearch),o.yG2(),o.E7m("ngIf",!t.inSearch),o.yG2(),o.E7m("ngIf",t.inFavorites),o.yG2(),o.E7m("ngIf",!t.inFavorites),o.yG2(),o.E7m("ngIf",t.inProfile),o.yG2(),o.E7m("ngIf",!t.inProfile))},dependencies:[n.u_,l.Kk,l.eV,l.YP,l.Ko,l.qo,l.Md,l.mY,p.ER],styles:["ion-col[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:1em}.big-icon[_ngcontent-%COMP%]{font-size:2em}"]}),w})()},28:(f,m,i)=>{i.d(m,{A:()=>p});var h=i(1368),o=i(2112),d=i(4496);let p=(()=>{var n;class l{}return(n=l).\u0275fac=function(s){return new(s||n)},n.\u0275mod=d.a4G({type:n}),n.\u0275inj=d.s3X({imports:[h.MD,o.wZ]}),l})()},4256:(f,m,i)=>{i.d(m,{u:()=>p});var h=i(1528),o=i(8754),d=i(4496);let p=(()=>{var n;class l{constructor(s){this.firestore=s}createUser(s){var c=this;return(0,h.c)(function*(){return c.verifyIfUserExists(s).then(function(){var e=(0,h.c)(function*(g){if(g)return Promise.resolve(!1);let z="users/"+s.companyName;try{return yield(0,o.Sm)((0,o.UN)(c.firestore,z),s),localStorage.setItem("currentUser",JSON.stringify(s)),s.isCompany&&(yield(0,o.Sm)((0,o.UN)(c.firestore,"posts",s.companyName),{companyName:s.companyName,description:"",contact:"",image:"",price:0})),Promise.resolve(!0)}catch{return Promise.resolve(!1)}});return function(g){return e.apply(this,arguments)}}())})()}verifyIfUserExists(s){var c=this;return(0,h.c)(function*(){try{const e=(0,o.kt)((0,o.oV)(c.firestore,"users"),(0,o.A9)("companyName","==",s.companyName)),g=yield(0,o.uY)(e);return Promise.resolve(!g.empty)}catch{return Promise.resolve(!1)}})()}loginUser(s){var c=this;return(0,h.c)(function*(){try{const e=(0,o.kt)((0,o.oV)(c.firestore,"users"),(0,o.A9)("companyName","==",s.companyName),(0,o.A9)("password","==",s.password));if((yield(0,o.uY)(e)).empty)return Promise.resolve(!1);{let z="users/"+s.companyName;return s=(yield(0,o.i4)((0,o.UN)(c.firestore,z))).data(),localStorage.setItem("currentUser",JSON.stringify(s)),console.log("User logged in",c.getCurrentUser()),Promise.resolve(!0)}}catch{return Promise.resolve(!1)}})()}getCurrentUser(){const s=localStorage.getItem("currentUser");return s?JSON.parse(s):null}clearCurrentUser(){localStorage.removeItem("currentUser")}updateUser(s){var c=this;return(0,h.c)(function*(){const g=s.companyName;try{const r=(0,o.UN)(c.firestore,"users",g);return yield(0,o.gD)(r,{companyName:s.companyName,email:s.email,password:s.password,isCompany:s.isCompany}),console.log("User updated successfully:",s),localStorage.removeItem("currentUser"),localStorage.setItem("currentUser",JSON.stringify(s)),!0}catch(r){return console.error("Error updating user:",r),!1}})()}}return(n=l).\u0275fac=function(s){return new(s||n)(d.CoB(o.OI))},n.\u0275prov=d.wxM({token:n,factory:n.\u0275fac,providedIn:"root"}),l})()},740:(f,m,i)=>{i.d(m,{Bhx:()=>V,kvD:()=>C});const V="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M432 176H320V64a48 48 0 00-48-48H80a48 48 0 00-48 48v416a16 16 0 0016 16h104a8 8 0 008-8v-71.55c0-8.61 6.62-16 15.23-16.43A16 16 0 01192 416v72a8 8 0 008 8h264a16 16 0 0016-16V224a48 48 0 00-48-48zM98.08 431.87a16 16 0 1113.79-13.79 16 16 0 01-13.79 13.79zm0-80a16 16 0 1113.79-13.79 16 16 0 01-13.79 13.79zm0-80a16 16 0 1113.79-13.79 16 16 0 01-13.79 13.79zm0-80a16 16 0 1113.79-13.79 16 16 0 01-13.79 13.79zm0-80a16 16 0 1113.79-13.79 16 16 0 01-13.79 13.79zm80 240a16 16 0 1113.79-13.79 16 16 0 01-13.79 13.79zm0-80a16 16 0 1113.79-13.79 16 16 0 01-13.79 13.79zm0-80a16 16 0 1113.79-13.79 16 16 0 01-13.79 13.79zm0-80a16 16 0 1113.79-13.79 16 16 0 01-13.79 13.79zm80 320a16 16 0 1113.79-13.79 16 16 0 01-13.79 13.79zm0-80a16 16 0 1113.79-13.79 16 16 0 01-13.79 13.79zm0-80a16 16 0 1113.79-13.79 16 16 0 01-13.79 13.79zm0-80a16 16 0 1113.79-13.79 16 16 0 01-13.79 13.79zm0-80a16 16 0 1113.79-13.79 16 16 0 01-13.79 13.79zM444 464H320V208h112a16 16 0 0116 16v236a4 4 0 01-4 4z'/><path d='M400 400a16 16 0 1016 16 16 16 0 00-16-16zM400 320a16 16 0 1016 16 16 16 0 00-16-16zM400 240a16 16 0 1016 16 16 16 0 00-16-16zM336 400a16 16 0 1016 16 16 16 0 00-16-16zM336 320a16 16 0 1016 16 16 16 0 00-16-16zM336 240a16 16 0 1016 16 16 16 0 00-16-16z'/></svg>",C="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M456.69 421.39L362.6 327.3a173.81 173.81 0 0034.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 00327.3 362.6l94.09 94.09a25 25 0 0035.3-35.3zM97.92 222.72a124.8 124.8 0 11124.8 124.8 124.95 124.95 0 01-124.8-124.8z'/></svg>"}}]);