"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9460],{9460:(x,g,r)=>{r.r(g),r.d(g,{HomePageModule:()=>Y});var m=r(1368),h=r(4716),c=r(2112),d=r(2508),u=r(1528),e=r(4496),p=r(2948),v=r(692),y=r(4256),C=r(6032),P=r(7700);function R(t,s){1&t&&(e.I0R(0,"div",4),e.wR5(1,"ion-spinner",5),e.C$Y())}function G(t,s){if(1&t){const i=e.KQA();e.I0R(0,"ion-card",8)(1,"div",9),e.qCj("click",function(){const a=e.usT(i).$implicit,l=e.GaO(2);return e.CGJ(l.onclickpage(a.companyName))}),e.I0R(2,"ion-card-content",10),e.wR5(3,"img",11),e.C$Y(),e.I0R(4,"ion-card-header")(5,"ion-card-title"),e.OEk(6),e.C$Y(),e.I0R(7,"ion-card-subtitle"),e.OEk(8),e.C$Y()(),e.I0R(9,"ion-card-content",12),e.OEk(10),e.C$Y()(),e.I0R(11,"ion-card-content",13),e.qCj("click",function(){const a=e.usT(i).$implicit,l=e.GaO(2);return e.CGJ(l.favoriteAlert(a.companyName))}),e.wR5(12,"ion-icon",14),e.C$Y()()}if(2&t){const i=s.$implicit;e.yG2(3),e._6D("src",i.image,e.K6U),e.yG2(3),e.cNF(i.companyName),e.yG2(2),e.oRS("$ ",i.price,""),e.yG2(2),e.oRS(" ",i.description," ")}}function H(t,s){if(1&t&&(e.I0R(0,"div",6),e.yuY(1,G,13,4,"ion-card",7),e.C$Y()),2&t){const i=e.GaO();e.yG2(),e.E7m("ngForOf",i.items)}}const I=[{path:"",component:(()=>{var t;class s{constructor(o,n,a,l){this.service=o,this.favoritesService=n,this.usersService=a,this.router=l,this.isLoadingBusiness=!0,this.user={companyName:"",email:"",password:"",isCompany:!1,image:""},this.isCompany=!1,this.service.getAllPosts().then(f=>{this.items=f,this.isLoadingBusiness=!1,this.user=this.usersService.getCurrentUser()})}ngOnInit(){}onclickpage(o){this.router.navigate(["/prod-description"],{queryParams:{name:o}})}companyOrPerson(){this.router.navigate(this.isCompany?["/profile"]:["/profile-personal"])}favoriteAlert(o){var n=this;return(0,u.c)(function*(){const a=document.createElement("ion-alert");var l;a.header="Favorite",a.message="Do you want to add this company to favorites?",a.buttons=[{text:"Cancel",role:"cancel",cssClass:"secondary"},{text:"Yes",handler:(l=(0,u.c)(function*(){yield n.favorite(o),yield n.confirmationAlerFavorite(o)}),function(){return l.apply(this,arguments)})}],document.body.appendChild(a),yield a.present()})()}confirmationAlerFavorite(o){return(0,u.c)(function*(){const n=document.createElement("ion-alert");n.header="Favorite",n.message=`The company ${o} has been added to favorites`,n.buttons=[{text:"OK",role:"cancel",cssClass:"secondary"}],document.body.appendChild(n),yield n.present()})()}favorite(o){console.log("Favorite",o),console.log(this.user),this.favoritesService.addFavorite(this.user.companyName,o).then(n=>{console.log(n)})}doRefresh(o){this.service.getAllPosts().then(n=>{this.items=n,o.target.complete()})}}return(t=s).\u0275fac=function(o){return new(o||t)(e.GI1(p.c),e.GI1(v.e),e.GI1(y.u),e.GI1(d.E5))},t.\u0275cmp=e.In1({type:t,selectors:[["app-home"]],decls:7,vars:3,consts:[[3,"fullscreen"],["slot","fixed",3,"ionRefresh"],["class","flex justify-center items-center p-5",4,"ngIf"],["class","ion-padding",4,"ngIf"],[1,"flex","justify-center","items-center","p-5"],["name","lines"],[1,"ion-padding"],["color","Primary",4,"ngFor","ngForOf"],["color","Primary"],[3,"click"],[1,"card-content"],[1,"centered-image",3,"src"],["color","orange"],["color","orange",1,"flex","justify-center",3,"click"],["name","star-outline",1,"big-icon"]],template:function(o,n){1&o&&(e.wR5(0,"app-header"),e.I0R(1,"ion-content",0)(2,"ion-refresher",1),e.qCj("ionRefresh",function(l){return n.doRefresh(l)}),e.wR5(3,"ion-refresher-content"),e.C$Y(),e.yuY(4,R,2,0,"div",2)(5,H,2,1,"div",3),e.C$Y(),e.wR5(6,"app-barfooter")),2&o&&(e.yG2(),e.E7m("fullscreen",!0),e.yG2(3),e.E7m("ngIf",n.isLoadingBusiness),e.yG2(),e.E7m("ngIf",!n.isLoadingBusiness))},dependencies:[m.ay,m.u_,c.KC,c.Gg,c.YY,c.MN,c.I7,c._i,c.Ko,c._I,c.Wi,c.YA,C.k,P.s],styles:[".centered-image[_ngcontent-%COMP%]{width:20em;height:20em}.card-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%}ion-card-title[_ngcontent-%COMP%]{--color: white}ion-card-subtitle[_ngcontent-%COMP%]{--color: orange}.big-icon[_ngcontent-%COMP%]{font-size:2em}"]}),s})()}];let M=(()=>{var t;class s{}return(t=s).\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.a4G({type:t}),t.\u0275inj=e.s3X({imports:[d.qQ.forChild(I),d.qQ]}),s})();var O=r(28);let Y=(()=>{var t;class s{}return(t=s).\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.a4G({type:t}),t.\u0275inj=e.s3X({imports:[m.MD,h.y,c.wZ,M,O.A]}),s})()}}]);