"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3128],{7700:(P,g,n)=>{n.d(g,{s:()=>_});var r=n(4496),t=n(4256),a=n(2508),l=n(2112);const e=()=>["/home"],m=()=>["/search"];let _=(()=>{var o;class i{constructor(c,f){this.usersService=c,this.router=f,this.isCompany=!1}ngOnInit(){var c;this.isCompany=(null===(c=this.usersService.getCurrentUser())||void 0===c?void 0:c.isCompany)||!1}companyOrPerson(){this.router.navigate(this.isCompany?["/profile"]:["/profile-personal"])}}return(o=i).\u0275fac=function(c){return new(c||o)(r.GI1(t.u),r.GI1(a.E5))},o.\u0275cmp=r.In1({type:o,selectors:[["app-barfooter"]],decls:10,vars:4,consts:[["translucent","true"],["col",""],["size","4"],["color","yellow","name","home-outline",1,"big-icon",3,"routerLink"],["color","yellow","name","search-outline",1,"big-icon",3,"routerLink"],["color","yellow","name","person-outline",1,"big-icon",3,"click"]],template:function(c,f){1&c&&(r.I0R(0,"ion-footer",0)(1,"ion-toolbar",1)(2,"ion-grid")(3,"ion-row")(4,"ion-col",2),r.wR5(5,"ion-icon",3),r.C$Y(),r.I0R(6,"ion-col",2),r.wR5(7,"ion-icon",4),r.C$Y(),r.I0R(8,"ion-col",2)(9,"ion-icon",5),r.qCj("click",function(){return f.companyOrPerson()}),r.C$Y()()()()()()),2&c&&(r.yG2(5),r.E7m("routerLink",r.q4q(2,e)),r.yG2(2),r.E7m("routerLink",r.q4q(3,m)))},dependencies:[l.Kk,l.eV,l.YP,l.Ko,l.qo,l.Md,l.mY,a.ER],styles:["ion-col[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:1em}.big-icon[_ngcontent-%COMP%]{font-size:2em}"]}),i})()},28:(P,g,n)=>{n.d(g,{A:()=>l});var r=n(1368),t=n(2112),a=n(4496);let l=(()=>{var e;class m{}return(e=m).\u0275fac=function(o){return new(o||e)},e.\u0275mod=a.a4G({type:e}),e.\u0275inj=a.s3X({imports:[r.MD,t.wZ]}),m})()},6032:(P,g,n)=>{n.d(g,{k:()=>e});var r=n(4496),t=n(2112),a=n(2508);const l=()=>["/home"];let e=(()=>{var m;class _{constructor(){}ngOnInit(){}}return(m=_).\u0275fac=function(i){return new(i||m)},m.\u0275cmp=r.In1({type:m,selectors:[["app-header"]],decls:3,vars:3,consts:[[3,"translucent"],[3,"routerLink"],["src","/assets/global/BizSwapLogo.png",1,"logo","ion-padding"]],template:function(i,u){1&i&&(r.I0R(0,"ion-header",0)(1,"ion-toolbar",1),r.wR5(2,"ion-img",2),r.C$Y()()),2&i&&(r.E7m("translucent",!0),r.yG2(),r.E7m("routerLink",r.q4q(2,l)))},dependencies:[t.wB,t.Eh,t.Md,t.mY,a.ER],styles:[".logo[_ngcontent-%COMP%]{width:15em}"]}),_})()},3128:(P,g,n)=>{n.r(g),n.d(g,{SearchPageModule:()=>I});var r=n(1368),t=n(4716),a=n(2112),l=n(2508),e=n(4496),m=n(8828),_=n(6032),o=n(7700);function i(s,p){if(1&s&&(e.I0R(0,"ion-select-option",8),e.OEk(1),e.C$Y()),2&s){const y=p.$implicit;e._6D("value",y),e.yG2(),e.cNF(y)}}function u(s,p){1&s&&(e.I0R(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),e.OEk(3,"WorkHub"),e.C$Y(),e.I0R(4,"ion-card-subtitle",9),e.OEk(5,"$20"),e.C$Y()()())}const c=()=>[1,2,3,4,5,6,7,8,9,10],h=[{path:"",component:(()=>{var s;class p{constructor(d){this.searchService=d,this.categories=["Electronics","Clothing","Food","Tourism","Furniture","Books","Other"],this.choosedCategory=""}ngOnInit(){}category(d){this.choosedCategory=d.detail.value,this.search("")}search(d){let v;v=""!==d?d.detail.value:"",this.searchService.makeSearch(v,this.choosedCategory).then(M=>{console.log(M)})}}return(s=p).\u0275fac=function(d){return new(d||s)(e.GI1(m._))},s.\u0275cmp=e.In1({type:s,selectors:[["app-search"]],decls:15,vars:5,consts:[[3,"fullscreen"],["size","9"],["color","orange",3,"debounce","ionInput"],["size","3"],["interface","popover","placeholder","Filter",3,"ionChange"],[3,"value",4,"ngFor","ngForOf"],["size","12"],[4,"ngFor","ngForOf"],[3,"value"],["color","orange"]],template:function(d,v){1&d&&(e.wR5(0,"app-header"),e.I0R(1,"ion-content",0)(2,"ion-grid")(3,"ion-row")(4,"ion-col",1)(5,"ion-searchbar",2),e.qCj("ionInput",function(O){return v.search(O)}),e.C$Y()(),e.I0R(6,"ion-col",3)(7,"ion-list")(8,"ion-item")(9,"ion-select",4),e.qCj("ionChange",function(O){return v.category(O)}),e.yuY(10,i,2,2,"ion-select-option",5),e.C$Y()()()()(),e.I0R(11,"ion-row")(12,"ion-col",6),e.yuY(13,u,6,0,"ion-card",7),e.C$Y()()()(),e.wR5(14,"app-barfooter")),2&d&&(e.yG2(),e.E7m("fullscreen",!0),e.yG2(4),e.E7m("debounce",1e3),e.yG2(5),e.E7m("ngForOf",v.categories),e.yG2(3),e.E7m("ngForOf",e.q4q(4,c)))},dependencies:[r.ay,a.KC,a.YY,a.MN,a.I7,a.Kk,a._i,a.YP,a.Yb,a.OC,a.qo,a.KQ,a.Cy,a.gd,a.IT,a.qG,_.k,o.s]}),p})()}];let C=(()=>{var s;class p{}return(s=p).\u0275fac=function(d){return new(d||s)},s.\u0275mod=e.a4G({type:s}),s.\u0275inj=e.s3X({imports:[l.qQ.forChild(h),l.qQ]}),p})();var E=n(28);let I=(()=>{var s;class p{}return(s=p).\u0275fac=function(d){return new(d||s)},s.\u0275mod=e.a4G({type:s}),s.\u0275inj=e.s3X({imports:[r.MD,t.y,a.wZ,C,E.A]}),p})()},4256:(P,g,n)=>{n.d(g,{u:()=>l});var r=n(1528),t=n(8754),a=n(4496);let l=(()=>{var e;class m{constructor(o){this.firestore=o}createUser(o){var i=this;return(0,r.c)(function*(){return i.verifyIfUserExists(o).then(function(){var u=(0,r.c)(function*(c){if(c)return Promise.resolve(!1);let C="users/"+o.companyName;try{return yield(0,t.Sm)((0,t.UN)(i.firestore,C),o),localStorage.setItem("currentUser",JSON.stringify(o)),Promise.resolve(!0)}catch{return Promise.resolve(!1)}});return function(c){return u.apply(this,arguments)}}())})()}verifyIfUserExists(o){var i=this;return(0,r.c)(function*(){try{const u=(0,t.kt)((0,t.oV)(i.firestore,"users"),(0,t.A9)("companyName","==",o.companyName)),c=yield(0,t.uY)(u);return Promise.resolve(!c.empty)}catch{return Promise.resolve(!1)}})()}loginUser(o){var i=this;return(0,r.c)(function*(){try{const u=(0,t.kt)((0,t.oV)(i.firestore,"users"),(0,t.A9)("companyName","==",o.companyName),(0,t.A9)("password","==",o.password));if((yield(0,t.uY)(u)).empty)return Promise.resolve(!1);{let C="users/"+o.companyName;return o=(yield(0,t.i4)((0,t.UN)(i.firestore,C))).data(),localStorage.setItem("currentUser",JSON.stringify(o)),console.log("User logged in",i.getCurrentUser()),Promise.resolve(!0)}}catch{return Promise.resolve(!1)}})()}getCurrentUser(){const o=localStorage.getItem("currentUser");return o?JSON.parse(o):null}clearCurrentUser(){localStorage.removeItem("currentUser")}updateUser(o){var i=this;return(0,r.c)(function*(){const c=o.companyName;try{const h=(0,t.UN)(i.firestore,"users",c);return yield(0,t.gD)(h,{companyName:o.companyName,email:o.email,password:o.password,isCompany:o.isCompany}),console.log("User updated successfully:",o),!0}catch(h){return console.error("Error updating user:",h),!1}})()}}return(e=m).\u0275fac=function(o){return new(o||e)(a.CoB(t.OI))},e.\u0275prov=a.wxM({token:e,factory:e.\u0275fac,providedIn:"root"}),m})()}}]);