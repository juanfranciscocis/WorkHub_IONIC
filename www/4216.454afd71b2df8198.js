"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4216],{4216:(M,p,s)=>{s.r(p),s.d(p,{ProdDescriptionPageModule:()=>G});var m=s(1368),h=s(4716),r=s(2112),u=s(2508),d=s(1528),e=s(4496),g=s(2948),P=s(4256),f=s(692),v=s(6032),y=s(7700),C=s(3008);const b=[{path:"",component:(()=>{var t;class a{constructor(n,o,i,l){this.route=n,this.service=o,this.usersService=i,this.favoritesService=l,this.nameParam="",this.products=[],this.user={companyName:"user",email:"",password:"",isCompany:!1},this.user=this.usersService.getCurrentUser()}ngOnInit(){this.route.queryParams.subscribe(n=>{this.nameParam=n.name,console.log(this.nameParam)}),console.log(this.nameParam),this.service.getPostByCompanyName(this.nameParam).then(n=>{this.business=n,console.log(this.business)}),this.service.getProductByName(this.nameParam).then(n=>{this.products=n,console.log("Products:",this.products)})}whatsapp(n){window.open("https://wa.me/"+n,"_blank")}favoriteAlert(n){var o=this;return(0,d.c)(function*(){const i=document.createElement("ion-alert");var l;i.header="Favorite",i.message="Do you want to add this company to favorites?",i.buttons=[{text:"Cancel",role:"cancel",cssClass:"secondary"},{text:"Yes",handler:(l=(0,d.c)(function*(){yield o.favorite(n),yield o.confirmationAlerFavorite(n)}),function(){return l.apply(this,arguments)})}],document.body.appendChild(i),yield i.present()})()}confirmationAlerFavorite(n){return(0,d.c)(function*(){const o=document.createElement("ion-alert");o.header="Favorite",o.message=`The company ${n} has been added to favorites`,o.buttons=[{text:"OK",role:"cancel",cssClass:"secondary"}],document.body.appendChild(o),yield o.present()})()}favorite(n){console.log("Favorite",n),console.log(this.user),this.favoritesService.addFavorite(this.user.companyName,n).then(o=>{console.log(o)})}doRefresh(n){this.service.getPostByCompanyName(this.nameParam).then(o=>{this.business=o,console.log(this.business)}),this.service.getProductByName(this.nameParam).then(o=>{this.products=o,console.log("Products:",this.products),n.target.complete()})}}return(t=a).\u0275fac=function(n){return new(n||t)(e.GI1(u.gV),e.GI1(g.c),e.GI1(P.u),e.GI1(f.e))},t.\u0275cmp=e.In1({type:t,selectors:[["app-prod-description"]],decls:23,vars:7,consts:[[3,"fullscreen"],["slot","fixed",3,"ionRefresh"],["alt","image",1,"img-card",3,"src"],[1,"ion-text-center","ion-justify-content-center","ion-align-items-center"],["color","orange","fill","clear",3,"click"],["name","call",1,"big-icon"],[3,"products"],["color","orange","expand","block",1,"p-5",3,"click"]],template:function(n,o){1&n&&(e.wR5(0,"app-header"),e.I0R(1,"ion-content",0)(2,"ion-refresher",1),e.qCj("ionRefresh",function(l){return o.doRefresh(l)}),e.wR5(3,"ion-refresher-content"),e.C$Y(),e.I0R(4,"ion-card")(5,"ion-card-header")(6,"ion-card-title"),e.OEk(7),e.C$Y(),e.I0R(8,"ion-card-subtitle"),e.OEk(9),e.C$Y()(),e.wR5(10,"img",2),e.I0R(11,"ion-card-content"),e.OEk(12),e.C$Y(),e.I0R(13,"ion-card-content",3)(14,"ion-button",4),e.qCj("click",function(){return o.whatsapp(null==o.business?null:o.business.contact)}),e.I0R(15,"ion-label"),e.OEk(16),e.C$Y(),e.OEk(17," \xa0\xa0 "),e.wR5(18,"ion-icon",5),e.C$Y()()(),e.wR5(19,"app-products",6),e.I0R(20,"ion-button",7),e.qCj("click",function(){return o.favoriteAlert(o.business.companyName)}),e.OEk(21,"Add to Favorites"),e.C$Y()(),e.wR5(22,"app-barfooter")),2&n&&(e.yG2(),e.E7m("fullscreen",!0),e.yG2(6),e.cNF(null==o.business?null:o.business.companyName),e.yG2(2),e.cNF(null==o.business?null:o.business.price),e.yG2(),e._6D("src",null==o.business?null:o.business.image,e.K6U),e.yG2(2),e.oRS(" ",null==o.business?null:o.business.description," "),e.yG2(4),e.cNF(null==o.business?null:o.business.contact),e.yG2(3),e.E7m("products",o.products))},dependencies:[r.sn,r.KC,r.Gg,r.YY,r.MN,r.I7,r._i,r.Ko,r.QR,r._I,r.Wi,v.k,y.s,C.G],styles:[".big-icon[_ngcontent-%COMP%]{font-size:40px;display:block;text-align:center}.small-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}img[_ngcontent-%COMP%]{width:100%;height:auto}ion-card-title[_ngcontent-%COMP%]{--color: white}ion-card-subtitle[_ngcontent-%COMP%]{--color: orange}"]}),a})()}];let R=(()=>{var t;class a{}return(t=a).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.a4G({type:t}),t.\u0275inj=e.s3X({imports:[u.qQ.forChild(b),u.qQ]}),a})();var D=s(28);let G=(()=>{var t;class a{}return(t=a).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.a4G({type:t}),t.\u0275inj=e.s3X({imports:[m.MD,h.y,r.wZ,R,D.A]}),a})()}}]);