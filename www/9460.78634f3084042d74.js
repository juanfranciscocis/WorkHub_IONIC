"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9460],{7700:(P,g,n)=>{n.d(g,{s:()=>y});var t=n(4496),r=n(4256),l=n(2508),u=n(2112);const e=()=>["/home"],d=()=>["/search"];let y=(()=>{var o;class s{constructor(a,m){this.usersService=a,this.router=m,this.isCompany=!1}ngOnInit(){var a;this.isCompany=(null===(a=this.usersService.getCurrentUser())||void 0===a?void 0:a.isCompany)||!1}companyOrPerson(){this.router.navigate(this.isCompany?["/profile"]:["/profile-personal"])}}return(o=s).\u0275fac=function(a){return new(a||o)(t.GI1(r.u),t.GI1(l.E5))},o.\u0275cmp=t.In1({type:o,selectors:[["app-barfooter"]],decls:10,vars:4,consts:[["translucent","true"],["col",""],["size","4"],["color","yellow","name","home-outline",1,"big-icon",3,"routerLink"],["color","yellow","name","search-outline",1,"big-icon",3,"routerLink"],["color","yellow","name","person-outline",1,"big-icon",3,"click"]],template:function(a,m){1&a&&(t.I0R(0,"ion-footer",0)(1,"ion-toolbar",1)(2,"ion-grid")(3,"ion-row")(4,"ion-col",2),t.wR5(5,"ion-icon",3),t.C$Y(),t.I0R(6,"ion-col",2),t.wR5(7,"ion-icon",4),t.C$Y(),t.I0R(8,"ion-col",2)(9,"ion-icon",5),t.qCj("click",function(){return m.companyOrPerson()}),t.C$Y()()()()()()),2&a&&(t.yG2(5),t.E7m("routerLink",t.q4q(2,e)),t.yG2(2),t.E7m("routerLink",t.q4q(3,d)))},dependencies:[u.Kk,u.eV,u.YP,u.Ko,u.qo,u.Md,u.mY,l.ER],styles:["ion-col[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:1em}.big-icon[_ngcontent-%COMP%]{font-size:2em}"]}),s})()},28:(P,g,n)=>{n.d(g,{A:()=>u});var t=n(1368),r=n(2112),l=n(4496);let u=(()=>{var e;class d{}return(e=d).\u0275fac=function(o){return new(o||e)},e.\u0275mod=l.a4G({type:e}),e.\u0275inj=l.s3X({imports:[t.MD,r.wZ]}),d})()},6032:(P,g,n)=>{n.d(g,{k:()=>e});var t=n(4496),r=n(2112),l=n(2508);const u=()=>["/home"];let e=(()=>{var d;class y{constructor(){}ngOnInit(){}}return(d=y).\u0275fac=function(s){return new(s||d)},d.\u0275cmp=t.In1({type:d,selectors:[["app-header"]],decls:3,vars:3,consts:[[3,"translucent"],[3,"routerLink"],["src","/assets/global/BizSwapLogo.png",1,"logo","ion-padding"]],template:function(s,c){1&s&&(t.I0R(0,"ion-header",0)(1,"ion-toolbar",1),t.wR5(2,"ion-img",2),t.C$Y()()),2&s&&(t.E7m("translucent",!0),t.yG2(),t.E7m("routerLink",t.q4q(2,u)))},dependencies:[r.wB,r.Eh,r.Md,r.mY,l.ER],styles:[".logo[_ngcontent-%COMP%]{width:15em}"]}),y})()},9460:(P,g,n)=>{n.r(g),n.d(g,{HomePageModule:()=>O});var t=n(1368),r=n(4716),l=n(2112),u=n(2508),e=n(4496),d=n(2948),y=n(6032),o=n(7700);function s(i,v){1&i&&(e.I0R(0,"div",3),e.wR5(1,"ion-spinner",4),e.C$Y())}function c(i,v){if(1&i){const p=e.KQA();e.I0R(0,"ion-card",7),e.qCj("click",function(){const M=e.usT(p).$implicit,I=e.GaO(2);return e.CGJ(I.onclickpage(M.companyName))}),e.I0R(1,"ion-card-content",8),e.wR5(2,"img",9),e.C$Y(),e.I0R(3,"ion-card-header")(4,"ion-card-title"),e.OEk(5),e.C$Y(),e.I0R(6,"ion-card-subtitle"),e.OEk(7),e.C$Y()(),e.I0R(8,"ion-card-content",10),e.OEk(9),e.C$Y()()}if(2&i){const p=v.$implicit;e.yG2(2),e._6D("src",p.image,e.K6U),e.yG2(3),e.cNF(p.companyName),e.yG2(2),e.oRS("$ ",p.price,""),e.yG2(2),e.oRS(" ",p.description," ")}}function a(i,v){if(1&i&&(e.I0R(0,"div",5),e.yuY(1,c,10,4,"ion-card",6),e.C$Y()),2&i){const p=e.GaO();e.yG2(),e.E7m("ngForOf",p.items)}}const _=[{path:"",component:(()=>{var i;class v{constructor(f,C){this.service=f,this.router=C,this.isLoadingBusiness=!0,this.service.getAllPosts().then(M=>{this.items=M,this.isLoadingBusiness=!1})}ngOnInit(){}onclickpage(f){this.router.navigate(["/prod-description"],{queryParams:{name:f}})}}return(i=v).\u0275fac=function(f){return new(f||i)(e.GI1(d.c),e.GI1(u.E5))},i.\u0275cmp=e.In1({type:i,selectors:[["app-home"]],decls:5,vars:3,consts:[[3,"fullscreen"],["class","flex justify-center items-center p-5",4,"ngIf"],["class","ion-padding",4,"ngIf"],[1,"flex","justify-center","items-center","p-5"],["name","lines"],[1,"ion-padding"],["color","Primary",3,"click",4,"ngFor","ngForOf"],["color","Primary",3,"click"],[1,"card-content"],[1,"centered-image",3,"src"],["color","orange"]],template:function(f,C){1&f&&(e.wR5(0,"app-header"),e.I0R(1,"ion-content",0),e.yuY(2,s,2,0,"div",1)(3,a,2,1,"div",2),e.C$Y(),e.wR5(4,"app-barfooter")),2&f&&(e.yG2(),e.E7m("fullscreen",!0),e.yG2(),e.E7m("ngIf",C.isLoadingBusiness),e.yG2(),e.E7m("ngIf",!C.isLoadingBusiness))},dependencies:[t.ay,t.u_,l.KC,l.Gg,l.YY,l.MN,l.I7,l._i,l.YA,y.k,o.s],styles:[".centered-image[_ngcontent-%COMP%]{width:20em;height:20em}.card-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%}ion-card-title[_ngcontent-%COMP%]{--color: white}ion-card-subtitle[_ngcontent-%COMP%]{--color: orange}"]}),v})()}];let h=(()=>{var i;class v{}return(i=v).\u0275fac=function(f){return new(f||i)},i.\u0275mod=e.a4G({type:i}),i.\u0275inj=e.s3X({imports:[u.qQ.forChild(_),u.qQ]}),v})();var E=n(28);let O=(()=>{var i;class v{}return(i=v).\u0275fac=function(f){return new(f||i)},i.\u0275mod=e.a4G({type:i}),i.\u0275inj=e.s3X({imports:[t.MD,r.y,l.wZ,h,E.A]}),v})()},2948:(P,g,n)=>{n.d(g,{c:()=>u});var t=n(1528),r=n(8754),l=n(4496);let u=(()=>{var e;class d{constructor(o){this.firestore=o}getAllPosts(){var o=this;return(0,t.c)(function*(){const s=(0,r.oV)(o.firestore,"posts"),c=(0,r.kt)(s);return(yield(0,r.uY)(c)).docs.map(m=>m.data())})()}getPostByCompanyName(o){var s=this;return(0,t.c)(function*(){const c=(0,r.oV)(s.firestore,"posts"),a=(0,r.kt)(c,(0,r.A9)("companyName","==",o)),m=yield(0,r.uY)(a);return m.empty?null:m.docs[0].data()})()}getProductByName(o){var s=this;return(0,t.c)(function*(){const c=(0,r.oV)(s.firestore,"products"),a=(0,r.kt)(c,(0,r.A9)("companyName","==",o)),m=yield(0,r.uY)(a);return m.empty?null:m.docs.map(_=>_.data())})()}updatePost(o){var s=this;return(0,t.c)(function*(){try{const c=(0,r.UN)(s.firestore,"posts",o.companyName);return yield(0,r.gD)(c,{companyName:o.companyName,price:o.price,description:o.description,image:o.image,contact:o.contact}),Promise.resolve(!0)}catch{return Promise.resolve(!1)}})()}createProduct(o,s){var c=this;return(0,t.c)(function*(){const a=o.productName+s.companyName,m=(0,r.UN)(c.firestore,"products",a);try{return console.log(o),yield(0,r.Sm)(m,{name:o.productName,price:o.price,image:o.productImage,companyName:s.companyName,id:a}),Promise.resolve(!0)}catch{return Promise.resolve(!1)}})()}deleteProduct(o){var s=this;return(0,t.c)(function*(){try{return yield(0,r.oh)((0,r.UN)(s.firestore,"products",o)),console.log("Product deleted successfully:",o),Promise.resolve(!0)}catch{return Promise.resolve(!1)}})()}}return(e=d).\u0275fac=function(o){return new(o||e)(l.CoB(r.OI))},e.\u0275prov=l.wxM({token:e,factory:e.\u0275fac,providedIn:"root"}),d})()},4256:(P,g,n)=>{n.d(g,{u:()=>u});var t=n(1528),r=n(8754),l=n(4496);let u=(()=>{var e;class d{constructor(o){this.firestore=o}createUser(o){var s=this;return(0,t.c)(function*(){return s.verifyIfUserExists(o).then(function(){var c=(0,t.c)(function*(a){if(a)return Promise.resolve(!1);let h="users/"+o.companyName;try{return yield(0,r.Sm)((0,r.UN)(s.firestore,h),o),localStorage.setItem("currentUser",JSON.stringify(o)),Promise.resolve(!0)}catch{return Promise.resolve(!1)}});return function(a){return c.apply(this,arguments)}}())})()}verifyIfUserExists(o){var s=this;return(0,t.c)(function*(){try{const c=(0,r.kt)((0,r.oV)(s.firestore,"users"),(0,r.A9)("companyName","==",o.companyName)),a=yield(0,r.uY)(c);return Promise.resolve(!a.empty)}catch{return Promise.resolve(!1)}})()}loginUser(o){var s=this;return(0,t.c)(function*(){try{const c=(0,r.kt)((0,r.oV)(s.firestore,"users"),(0,r.A9)("companyName","==",o.companyName),(0,r.A9)("password","==",o.password));if((yield(0,r.uY)(c)).empty)return Promise.resolve(!1);{let h="users/"+o.companyName;return o=(yield(0,r.i4)((0,r.UN)(s.firestore,h))).data(),localStorage.setItem("currentUser",JSON.stringify(o)),console.log("User logged in",s.getCurrentUser()),Promise.resolve(!0)}}catch{return Promise.resolve(!1)}})()}getCurrentUser(){const o=localStorage.getItem("currentUser");return o?JSON.parse(o):null}clearCurrentUser(){localStorage.removeItem("currentUser")}updateUser(o){var s=this;return(0,t.c)(function*(){const a=o.companyName;try{const _=(0,r.UN)(s.firestore,"users",a);return yield(0,r.gD)(_,{companyName:o.companyName,email:o.email,password:o.password,isCompany:o.isCompany}),console.log("User updated successfully:",o),!0}catch(_){return console.error("Error updating user:",_),!1}})()}}return(e=d).\u0275fac=function(o){return new(o||e)(l.CoB(r.OI))},e.\u0275prov=l.wxM({token:e,factory:e.\u0275fac,providedIn:"root"}),d})()}}]);