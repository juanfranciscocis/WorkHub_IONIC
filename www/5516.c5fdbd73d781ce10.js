"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5516],{7700:(P,y,s)=>{s.d(y,{s:()=>f});var t=s(4496),e=s(4256),p=s(2508),m=s(2112);const c=()=>["/home"],d=()=>["/search"];let f=(()=>{var o;class r{constructor(i,n){this.usersService=i,this.router=n,this.isCompany=!1}ngOnInit(){var i;this.isCompany=(null===(i=this.usersService.getCurrentUser())||void 0===i?void 0:i.isCompany)||!1}companyOrPerson(){this.router.navigate(this.isCompany?["/profile"]:["/profile-personal"])}}return(o=r).\u0275fac=function(i){return new(i||o)(t.GI1(e.u),t.GI1(p.E5))},o.\u0275cmp=t.In1({type:o,selectors:[["app-barfooter"]],decls:10,vars:4,consts:[["translucent","true"],["col",""],["size","4"],["color","yellow","name","home-outline",1,"big-icon",3,"routerLink"],["color","yellow","name","search-outline",1,"big-icon",3,"routerLink"],["color","yellow","name","person-outline",1,"big-icon",3,"click"]],template:function(i,n){1&i&&(t.I0R(0,"ion-footer",0)(1,"ion-toolbar",1)(2,"ion-grid")(3,"ion-row")(4,"ion-col",2),t.wR5(5,"ion-icon",3),t.C$Y(),t.I0R(6,"ion-col",2),t.wR5(7,"ion-icon",4),t.C$Y(),t.I0R(8,"ion-col",2)(9,"ion-icon",5),t.qCj("click",function(){return n.companyOrPerson()}),t.C$Y()()()()()()),2&i&&(t.yG2(5),t.E7m("routerLink",t.q4q(2,c)),t.yG2(2),t.E7m("routerLink",t.q4q(3,d)))},dependencies:[m.Kk,m.eV,m.YP,m.Ko,m.qo,m.Md,m.mY,p.ER],styles:["ion-col[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:1em}.big-icon[_ngcontent-%COMP%]{font-size:2em}"]}),r})()},28:(P,y,s)=>{s.d(y,{A:()=>m});var t=s(1368),e=s(2112),p=s(4496);let m=(()=>{var c;class d{}return(c=d).\u0275fac=function(o){return new(o||c)},c.\u0275mod=p.a4G({type:c}),c.\u0275inj=p.s3X({imports:[t.MD,e.wZ]}),d})()},6032:(P,y,s)=>{s.d(y,{k:()=>c});var t=s(4496),e=s(2112),p=s(2508);const m=()=>["/home"];let c=(()=>{var d;class f{constructor(){}ngOnInit(){}}return(d=f).\u0275fac=function(r){return new(r||d)},d.\u0275cmp=t.In1({type:d,selectors:[["app-header"]],decls:3,vars:3,consts:[[3,"translucent"],[3,"routerLink"],["src","/assets/global/BizSwapLogo.png",1,"logo","ion-padding"]],template:function(r,a){1&r&&(t.I0R(0,"ion-header",0)(1,"ion-toolbar",1),t.wR5(2,"ion-img",2),t.C$Y()()),2&r&&(t.E7m("translucent",!0),t.yG2(),t.E7m("routerLink",t.q4q(2,m)))},dependencies:[e.wB,e.Eh,e.Md,e.mY,p.ER],styles:[".logo[_ngcontent-%COMP%]{width:15em}"]}),f})()},3008:(P,y,s)=>{s.d(y,{G:()=>i});var t=s(1528),e=s(4496),p=s(2948),m=s(1368),c=s(2112);function d(n,u){if(1&n){const l=e.KQA();e.I0R(0,"ion-card-content",3)(1,"ion-icon",8),e.qCj("click",function(){e.usT(l);const g=e.GaO(2).index,C=e.GaO();return e.CGJ(C.deleteProduct(g))}),e.C$Y()()}}function f(n,u){if(1&n&&(e.I0R(0,"ion-col",2)(1,"ion-card")(2,"div",3),e.wR5(3,"img",4),e.C$Y(),e.I0R(4,"ion-card-content")(5,"h2",5),e.OEk(6),e.C$Y(),e.I0R(7,"h2",6),e.OEk(8),e.C$Y()(),e.yuY(9,d,2,0,"ion-card-content",7),e.C$Y()()),2&n){const l=e.GaO().index,_=e.GaO();e.yG2(3),e._6D("src",_.products[l].image,e.K6U),e.yG2(3),e.cNF(_.products[l].name),e.yG2(2),e.oRS("$",_.products[l].price,""),e.yG2(),e.E7m("ngIf","/prod-description"!==_.location.pathname)}}function o(n,u){if(1&n){const l=e.KQA();e.I0R(0,"ion-card-content",3)(1,"ion-icon",8),e.qCj("click",function(){e.usT(l);const g=e.GaO(2).index,C=e.GaO();return e.CGJ(C.deleteProduct(g))}),e.C$Y()()}}function r(n,u){if(1&n&&(e.I0R(0,"ion-col",2)(1,"ion-card")(2,"div",3),e.wR5(3,"img",4),e.C$Y(),e.I0R(4,"ion-card-content")(5,"h2",5),e.OEk(6),e.C$Y(),e.I0R(7,"h2",6),e.OEk(8),e.C$Y()(),e.yuY(9,o,2,0,"ion-card-content",7),e.C$Y()()),2&n){const l=e.GaO().index,_=e.GaO();e.yG2(3),e._6D("src",_.products[l].image,e.K6U),e.yG2(3),e.cNF(_.products[l].name),e.yG2(2),e.oRS("$",_.products[l].price,""),e.yG2(),e.E7m("ngIf","/prod-description"!==_.location.pathname)}}function a(n,u){if(1&n&&(e.SAx(0),e.yuY(1,f,10,4,"ion-col",1)(2,r,10,4,"ion-col",1),e.k70()),2&n){const l=u.index;e.yG2(),e.E7m("ngIf",l%2==0),e.yG2(),e.E7m("ngIf",l%2!=0)}}let i=(()=>{var n;class u{constructor(_){this.postsService=_,this.products=[],this.location=location,console.log(this.products)}ngOnInit(){}deleteProduct(_){var g=this;return(0,t.c)(function*(){"/prod-description"!==window.location.pathname&&(console.log("Delete product"),console.log(g.products[_].id),yield g.postsService.deleteProduct(g.products[_].id).then(C=>{location.reload()}))})()}}return(n=u).\u0275fac=function(_){return new(_||n)(e.GI1(p.c))},n.\u0275cmp=e.In1({type:n,selectors:[["app-products"]],inputs:{products:"products"},decls:3,vars:1,consts:[[4,"ngFor","ngForOf"],["size","6",4,"ngIf"],["size","6"],[1,"flex","items-center","justify-center"],["alt","image",1,"img-card",3,"src"],["color","orange",1,"ion-text-center"],[1,"ion-text-center"],["class","flex items-center justify-center",4,"ngIf"],["name","trash","color","danger",3,"click"]],template:function(_,g){1&_&&(e.I0R(0,"ion-grid")(1,"ion-row"),e.yuY(2,a,3,2,"ng-container",0),e.C$Y()()),2&_&&(e.yG2(2),e.E7m("ngForOf",g.products))},dependencies:[m.ay,m.u_,c.KC,c.Gg,c.Kk,c.YP,c.Ko,c.qo],styles:["img[_ngcontent-%COMP%]{width:100px;height:100px;onbject-fit:cover!important}h2[_ngcontent-%COMP%]{--color: orange}"]}),u})()},2948:(P,y,s)=>{s.d(y,{c:()=>m});var t=s(1528),e=s(8754),p=s(4496);let m=(()=>{var c;class d{constructor(o){this.firestore=o}getAllPosts(){var o=this;return(0,t.c)(function*(){const r=(0,e.oV)(o.firestore,"posts"),a=(0,e.kt)(r);return(yield(0,e.uY)(a)).docs.map(n=>n.data())})()}getPostByCompanyName(o){var r=this;return(0,t.c)(function*(){const a=(0,e.oV)(r.firestore,"posts"),i=(0,e.kt)(a,(0,e.A9)("companyName","==",o)),n=yield(0,e.uY)(i);return n.empty?null:n.docs[0].data()})()}getProductByName(o){var r=this;return(0,t.c)(function*(){const a=(0,e.oV)(r.firestore,"products"),i=(0,e.kt)(a,(0,e.A9)("companyName","==",o)),n=yield(0,e.uY)(i);return n.empty?null:n.docs.map(u=>u.data())})()}updatePost(o){var r=this;return(0,t.c)(function*(){try{const a=(0,e.UN)(r.firestore,"posts",o.companyName);return yield(0,e.gD)(a,{companyName:o.companyName,price:o.price,description:o.description,image:o.image,contact:o.contact}),Promise.resolve(!0)}catch{return Promise.resolve(!1)}})()}createProduct(o,r){var a=this;return(0,t.c)(function*(){const i=o.productName+r.companyName,n=(0,e.UN)(a.firestore,"products",i);try{return console.log(o),yield(0,e.Sm)(n,{name:o.productName,price:o.price,image:o.productImage,companyName:r.companyName,id:i}),Promise.resolve(!0)}catch{return Promise.resolve(!1)}})()}deleteProduct(o){var r=this;return(0,t.c)(function*(){try{return yield(0,e.oh)((0,e.UN)(r.firestore,"products",o)),console.log("Product deleted successfully:",o),Promise.resolve(!0)}catch{return Promise.resolve(!1)}})()}}return(c=d).\u0275fac=function(o){return new(o||c)(p.CoB(e.OI))},c.\u0275prov=p.wxM({token:c,factory:c.\u0275fac,providedIn:"root"}),d})()},4256:(P,y,s)=>{s.d(y,{u:()=>m});var t=s(1528),e=s(8754),p=s(4496);let m=(()=>{var c;class d{constructor(o){this.firestore=o}createUser(o){var r=this;return(0,t.c)(function*(){return r.verifyIfUserExists(o).then(function(){var a=(0,t.c)(function*(i){if(i)return Promise.resolve(!1);let l="users/"+o.companyName;try{return yield(0,e.Sm)((0,e.UN)(r.firestore,l),o),localStorage.setItem("currentUser",JSON.stringify(o)),Promise.resolve(!0)}catch{return Promise.resolve(!1)}});return function(i){return a.apply(this,arguments)}}())})()}verifyIfUserExists(o){var r=this;return(0,t.c)(function*(){try{const a=(0,e.kt)((0,e.oV)(r.firestore,"users"),(0,e.A9)("companyName","==",o.companyName)),i=yield(0,e.uY)(a);return Promise.resolve(!i.empty)}catch{return Promise.resolve(!1)}})()}loginUser(o){var r=this;return(0,t.c)(function*(){try{const a=(0,e.kt)((0,e.oV)(r.firestore,"users"),(0,e.A9)("companyName","==",o.companyName),(0,e.A9)("password","==",o.password));if((yield(0,e.uY)(a)).empty)return Promise.resolve(!1);{let l="users/"+o.companyName;return o=(yield(0,e.i4)((0,e.UN)(r.firestore,l))).data(),localStorage.setItem("currentUser",JSON.stringify(o)),console.log("User logged in",r.getCurrentUser()),Promise.resolve(!0)}}catch{return Promise.resolve(!1)}})()}getCurrentUser(){const o=localStorage.getItem("currentUser");return o?JSON.parse(o):null}clearCurrentUser(){localStorage.removeItem("currentUser")}updateUser(o){var r=this;return(0,t.c)(function*(){const i=o.companyName;try{const u=(0,e.UN)(r.firestore,"users",i);return yield(0,e.gD)(u,{companyName:o.companyName,email:o.email,password:o.password,isCompany:o.isCompany}),console.log("User updated successfully:",o),!0}catch(u){return console.error("Error updating user:",u),!1}})()}}return(c=d).\u0275fac=function(o){return new(o||c)(p.CoB(e.OI))},c.\u0275prov=p.wxM({token:c,factory:c.\u0275fac,providedIn:"root"}),d})()}}]);